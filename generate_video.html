<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIå·¥å…·çŒæ‰‹ - åŠ¨æ€è§†é¢‘ç”Ÿæˆå™¨</title>
    <style>
        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color: #121212;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        h1 {
            margin-bottom: 20px;
            font-weight: 300;
        }

        .container {
            position: relative;
            box-shadow: 0 0 50px rgba(0, 123, 255, 0.3);
            border-radius: 8px;
            overflow: hidden;
            background: #000;
            border: 1px solid #333;
        }

        /* é¢„è§ˆç”»å¸ƒå°ºå¯¸ */
        canvas {
            display: block;
            width: 800px;
            height: 450px;
        }

        .controls {
            margin-top: 30px;
            text-align: center;
        }

        .status {
            margin-bottom: 15px;
            font-size: 16px;
            color: #aaa;
            height: 24px; 
        }

        button {
            padding: 14px 30px;
            font-size: 18px;
            background: linear-gradient(45deg, #007bff, #00d4ff);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.4);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 123, 255, 0.6);
        }
        
        button:disabled {
            background: #555;
            transform: none;
            box-shadow: none;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

    <h1>AIå·¥å…·çŒæ‰‹ Â· åŠ¨æ€ç»“å°¾ç”Ÿæˆ</h1>
    
    <div class="container">
        <!-- çœŸå®åˆ†è¾¨ç‡ 1920x1080 -->
        <canvas id="videoCanvas" width="1920" height="1080"></canvas>
    </div>
    
    <div class="controls">
        <div class="status" id="statusText">é¢„è§ˆç”»é¢è¿è¡Œä¸­...</div>
        <button id="startBtn" onclick="startRecording()">ğŸ¥ ç”ŸæˆåŠ¨æ€è§†é¢‘ (5ç§’)</button>
    </div>

    <script>
        const canvas = document.getElementById('videoCanvas');
        const ctx = canvas.getContext('2d');
        const statusText = document.getElementById('statusText');
        const startBtn = document.getElementById('startBtn');

        // åŠ¨ç”»çŠ¶æ€å˜é‡
        let animationId;
        let startTime = Date.now();

        // 1. æ ¸å¿ƒåŠ¨ç”»å¾ªç¯
        function animate() {
            const now = Date.now();
            const time = now - startTime; // è¿è¡Œæ€»æ—¶é•¿(ms)
            
            const w = canvas.width;
            const h = canvas.height;

            // --- A. æ¸…ç©ºå¹¶ç»˜åˆ¶åŠ¨æ€èƒŒæ™¯ ---
            // æ·±è‰²æ¸å˜åº•è‰²
            const gradient = ctx.createLinearGradient(0, 0, w, h);
            gradient.addColorStop(0, '#1a1a1a');
            gradient.addColorStop(1, '#050505');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, w, h);

            // åŠ¨æ€ç½‘æ ¼çº¿ (æ¨¡æ‹Ÿæ•°æ®æµï¼Œå‘ä¸‹æ»šåŠ¨)
            ctx.lineWidth = 2;
            const gridOffset = (time * 0.05) % 100; // æ»šåŠ¨é€Ÿåº¦
            
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.03)';
            // æ¨ªçº¿
            for (let y = gridOffset - 100; y < h; y += 100) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(w, y);
                ctx.stroke();
            }
            // ç«–çº¿ (é™æ€)
            for (let x = 0; x < w; x += 100) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, h);
                ctx.stroke();
            }

            // --- B. ç»˜åˆ¶æ–‡å­— (å‘¼å¸æ•ˆæœ) ---
            ctx.save();
            
            // è®¡ç®—å‘¼å¸ç¼©æ”¾æ¯”ä¾‹ (æ­£å¼¦æ³¢)
            const pulseScale = 1 + Math.sin(time * 0.005) * 0.03; // åœ¨ 0.97 - 1.03 ä¹‹é—´æµ®åŠ¨
            
            // å°†åŸç‚¹ç§»åŠ¨åˆ°æ–‡å­—ä¸­å¿ƒï¼Œç¼©æ”¾åå†ç§»å›å»
            ctx.translate(w / 2, h / 2 - 50);
            ctx.scale(pulseScale, pulseScale);
            
            // ä¸»æ ‡é¢˜
            ctx.shadowColor = "rgba(0, 123, 255, 0.8)";
            ctx.shadowBlur = 30 + Math.sin(time * 0.01) * 10; // é˜´å½±ä¹Ÿåœ¨é—ªçƒ
            ctx.fillStyle = '#ffffff';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.font = 'bold 200px "Microsoft YaHei", sans-serif';
            ctx.fillText('å…³æ³¨é¢†å–', 0, 0); // ç”±äºtranslateäº†ï¼Œè¿™é‡Œåæ ‡æ˜¯0,0
            
            ctx.restore();

            // --- C. å‰¯æ ‡é¢˜ (é™æ€ä½†é«˜äº®) ---
            ctx.shadowBlur = 0;
            ctx.fillStyle = '#ffd700';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.font = 'bold 60px "Microsoft YaHei", sans-serif';
            ctx.fillText('ğŸ‘‡ è·å–AIææ•ˆå·¥å…·åŒ… ğŸ‘‡', w / 2, h / 2 + 120);

            // --- D. ç»˜åˆ¶åŠ¨æ€ç®­å¤´ (å¼¹è·³æ•ˆæœ) ---
            // ç®­å¤´æŒ‡å‘å³ä¸‹è§’ï¼Œæˆ‘ä»¬è®©å®ƒæ²¿ç€å¯¹è§’çº¿æ–¹å‘æ¥å›ç§»åŠ¨
            const bounce = Math.abs(Math.sin(time * 0.008)) * 30; // 0 åˆ° 30px çš„ä½ç§»
            
            const arrowBaseX = w / 2 + 350;
            const arrowBaseY = h / 2 + 180;
            const arrowTargetX = w - 150 + bounce; // Xè½´ç§»åŠ¨
            const arrowTargetY = h - 100 + bounce; // Yè½´ç§»åŠ¨

            drawArrow(ctx, arrowBaseX, arrowBaseY, arrowTargetX, arrowTargetY);

            // ç»§ç»­ä¸‹ä¸€å¸§
            animationId = requestAnimationFrame(animate);
        }

        // ç»˜åˆ¶ç®­å¤´çš„è¾…åŠ©å‡½æ•°
        function drawArrow(ctx, fromX, fromY, toX, toY) {
            const headlen = 50; 
            const angle = Math.atan2(toY - fromY, toX - fromX);

            ctx.beginPath();
            
            // ç»˜åˆ¶å¸¦å¼§åº¦çš„ç®­æ†
            ctx.moveTo(fromX, fromY);
            ctx.quadraticCurveTo(fromX + 50, toY, toX, toY);
            
            ctx.strokeStyle = '#ff4d4d';
            ctx.lineWidth = 18;
            ctx.lineCap = 'round';
            ctx.stroke();

            // ç»˜åˆ¶ç®­å¤´å¤´
            ctx.beginPath();
            ctx.fillStyle = '#ff4d4d';
            ctx.moveTo(toX, toY);
            ctx.lineTo(toX - headlen * Math.cos(angle - Math.PI / 6), toY - headlen * Math.sin(angle - Math.PI / 6));
            ctx.lineTo(toX - headlen * Math.cos(angle + Math.PI / 6), toY - headlen * Math.sin(angle + Math.PI / 6));
            ctx.fill();
        }

        // å¯åŠ¨é¢„è§ˆåŠ¨ç”»
        animate();

        // 2. å½•åˆ¶é€»è¾‘
        function startRecording() {
            startBtn.disabled = true;
            statusText.innerText = "âš¡ æ­£åœ¨æ¸²æŸ“å¹¶å½•åˆ¶ï¼Œè¯·ä¿æŒé¡µé¢å¼€å¯ (5ç§’)...";

            // æ•è·ç”»å¸ƒæµ (60FPSï¼Œä¿è¯åŠ¨ç”»æµç•…)
            const stream = canvas.captureStream(60); 
            const recorder = new MediaRecorder(stream, {
                mimeType: 'video/webm; codecs=vp9',
                videoBitsPerSecond: 5000000 // 5Mbps é«˜ç ç‡
            });

            const chunks = [];
            
            recorder.ondataavailable = (e) => {
                if (e.data.size > 0) chunks.push(e.data);
            };

            recorder.onstop = () => {
                const blob = new Blob(chunks, { type: 'video/webm' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.style.display = 'none';
                a.href = url;
                a.download = 'AIå·¥å…·çŒæ‰‹_åŠ¨æ€ç»“å°¾.webm';
                document.body.appendChild(a);
                a.click();
                
                window.URL.revokeObjectURL(url);
                statusText.innerText = "âœ… è§†é¢‘å·²ç”Ÿæˆï¼";
                startBtn.disabled = false;
                startBtn.innerText = "ğŸ¥ å†æ¬¡ç”Ÿæˆ";
            };

            recorder.start();

            // 5ç§’ååœæ­¢
            setTimeout(() => {
                recorder.stop();
            }, 5000);
        }
    </script>
</body>
</html>
